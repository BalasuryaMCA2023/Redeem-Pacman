<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pocman Random</title>
</head>
<body>
    <div id="box" style="
    width:1500px;
    border: 5px solid black;
    height:650px;
    position: relative;
    background-color: #da63f8;
  "></div>
  <br>
  
   
    <button onclick="rendom()" style="color: crimson; background-color: aliceblue;">Pocman</button>
    <button onclick="run()" style="color:green;background-color: aliceblue;">Start Game</button>
    
    <script>
       
       var pacmen=[]
        var x_pos=[]
        var y_pos=[]
        var x_vel=[]
        var y_vel=[]
        var gravity=1
        function rendom(){
            var pacman=document.createElement("img");
            var xpos=Math.random()*1300 +10
            var ypos=Math.random()*500 +10
            var xvel=Math.random()*20
            var yvel=Math.random()*20
            var container=document.getElementById("box")
            pacman.src="PacMan1.png"
            document.getElementById("box").appendChild(pacman)
            pacman.style.width="50"+'px'
            pacman.style.left=xpos+'px'
            pacman.style.top=ypos+'px'
            pacman.style.position="absolute"
            pacmen.push(pacman)
            x_pos.push(xpos)
            y_pos.push(ypos)
            x_vel.push(xvel)
            y_vel.push(yvel)
            console.log(x_pos)
            console.log(y_pos)
        }
        function run(){
            for(let i=0;i<pacmen.length;i++){
                    x_pos[i]+=x_vel[i]
                    y_pos[i]+=y_vel[i]
                    pacmen[i].style.left=x_pos[i]+'px'
                    pacmen[i].style.top=y_pos[i]+'px'
                    if(x_vel[i]>0){
                        if((Math.floor(x_pos[i]/x_vel[i]))%2!==0){
                            pacmen[i].src="PacMan2.png"
                        }
                        else{
                            pacmen[i].src="PacMan1.png"
                        }
                    }
                    else{
                        if((Math.floor(x_pos[i]/x_vel[i]))%2!==0){
                            pacmen[i].src="PacMan4.png"
                        }
                        else{
                            pacmen[i].src="PacMan3.png"
                        }
                    }
                    if(x_pos[i] > 900 || x_pos[i] <= 10) {
                        x_vel[i] =-x_vel[i]*gravity
                    }
                    if(y_pos[i] > 550 || y_pos[i] <= 10) {
                        y_vel[i] =-y_vel[i]*gravity
                    }
            }
            setTimeout(run,100)
        }
        
    </script>
</body>
</html>
